<!DOCTYPE html>
<!--
 The MIT License
 Copyright (c) 2016 Bruce Schubert.
-->
<!--suppress XmlHighlighting, HtmlUnknownTag, HtmlUnknownTag, HtmlUnknownTag, HtmlUnknownTag, HtmlUnknownTag -->
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=0">
    <!-- Bootstrap: The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <script src="js/jquery.min.js"></script>
    <title>Springfield Data Viewer</title>

    <meta name="description" content="Springfield Data">
    <meta name="author" content="Anjesh">

    <!-- Favicon -->
    <link rel="icon" type="image/jpg" href="css/images/Springfield_logo.jpg"/>

    <!-- JQuery UI provides some UI elements (e.g, a slider) -->
    <link rel="stylesheet" type="text/css" href="css/libs/jquery-ui/v1.11.4/jquery-ui.min.css"/>
    <!-- Bootstrap's 'Slate' theme provides the main styling -->
    <link rel="stylesheet" type="text/css" href="css/libs/bootstrap/v3.3.6/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="css/libs/bootstrap/v3.3.6/bootstrap-slate.min.css"/>
    <!-- JQuery-Growl plugin for growl style messages-->

    <link rel="stylesheet" type="text/css" href="css/libs/jquery-plugins/jquery.growl.css"/>
    <!-- Font Awesome provides icons -->
    <link rel="stylesheet" type="text/css" href="css/libs/fa/v4.6.2/font-awesome.min.css"/>
    <!-- Custom application specific styling -->
    <link rel="stylesheet" type="text/css" href="css/override.css"/>
    <link rel="stylesheet" type="text/css" href="styles.css"/>
    <script src="https://unpkg.com/split.js/split.min.js"></script>
</head>
<body>
<!--
Main Menu NavBar
-->
<div class="stars"></div>
<div class="twinkling"></div>
<nav class="navbar navbar-default navbar-fixed-top">
    <div class="container-fluid">
        <!-- Branding and 'hamburger' menu -->
        <div id="header" class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-navbar"
                    aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <img id='logo1' src="css/images/sm.png" title="Click this image for Springfield,OR" draggable="false" class="gos" vertical-align="left"/>
            <!-- <a class="navbar-brand"
               href="https://github.com/NASAWorldWindResearch/WorldWindExplorer" target="_blank"
               data-bind="text:appName"></a> -->
        </div>
        <!-- Navigation links, Projections and Search Box -->
        <div class="collapse navbar-collapse" id="main-navbar">
            <ul class="nav navbar-nav">
                <!-- Home navigation button -->
                <li class="active left-sidebar-btn">
                    <a href="#home" role="tab" data-toggle="tab">
                                <span class="glyphicon glyphicon-home visible-sm-block" aria-hidden="true"
                                      style="padding-top:4px; padding-bottom:4px"></span>
                        <span class="hidden-sm" aria-hidden="true">Source</span>
                    </a>
                </li>
                <!-- Layers navigation button -->
                <li class="left-sidebar-btn">
                    <a href="#layers" id= "asam" role="tab" data-toggle="tab">
                                <span class="glyphicon glyphicon-list visible-sm-block" aria-hidden="true"
                                      style="padding-top:4px; padding-bottom:4px"></span>
                        <span class="hidden-sm" aria-hidden="true">Layers</span>
                    </a>
                </li>
				<li class="left-sidebar-btn">
                    <a href="#views" role="tab" data-toggle="tab">
                                <span class="glyphicon glyphicon-list visible-sm-block" aria-hidden="true"
                                      style="padding-top:4px; padding-bottom:4px"></span>
                        <span class="hidden-sm" aria-hidden="true">Views</span>
                    </a>
                </li>
                <!-- Markers navigation button -->
                <li class="left-sidebar-btn">
                    <a href="#markers" role="tab" data-toggle="tab">
                                <span class="glyphicon glyphicon-map-marker visible-sm-block" aria-hidden="true"
                                      style="padding-top:4px; padding-bottom:4px"></span>
                        <span class="hidden-sm" aria-hidden="true">Markers</span>
                    </a>
                </li>
                <!-- Search box and button (bound to SearchViewModel)-->
                <form id="search" class="navbar-form navbar-left" role="search">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Destination" id="searchText"
                               data-bind="value: searchText, valueUpdate: 'keyup', event: {keypress: onEnter}"/>
                    </div>
                    <button id="searchButton" class="btn btn-primary" type="submit"
                            data-bind="click: $root.performSearch">Go To
                    </button>
                </form>

            </ul>

            <ul class="nav navbar-nav navbar-right">
                <!-- Projections dropdown (bound to ProjectionsViewModel)-->
                <li id="projections" class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                       aria-expanded="false"><span data-bind="text: currentProjection"></span> <span
                            class="caret"></span></a>
                    <!-- Bind the list to the 'projections' observableArray -->
                    <ul id="projections-menu" class="dropdown-menu" data-bind="foreach: $root.projections">
                        <li data-bind="click: $root.changeProjection">
                            <a><span data-bind="text: $data"></span></a>
                        </li>
                    </ul>
                </li>
            </ul>
            <img id='logo2' width="48px" height="48px;" src="css/images/logo_kt.png" class="kt navbar-right" title="Click this image for KITE" draggable="false"/>
            <img id='logo3' src="css/images/nasa-logo_48.png" class="ns navbar-right" title="Click this image for Ames Centre NASA" draggable="false"/>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container-fluid -->
</nav>

<!--
Main Content
-->
<!--fluid or split-->
<div id="main" class="container-split">
    <!--
    Left Sidebar
    -->
    <div id="left-sidebar" class="split split-horizontal tab-content">
        <!--
        Collapse sidebar button
        -->
        <button type="button" id="collapse-left-sidebar"
                class="btn btn-primary btn-sm"
                style="float: right;">
            <span class="glyphicon glyphicon-minus" aria-hidden="true"></span>
        </button>

        <!--
        Home tab
        -->
        <div id="home" class="tab-pane active" role="tabpanel">
            <div class="section-heading">
                <h4 class="sub-header">
                    <span class="glyphicon glyphicon-home" aria-hidden="true" style="padding-right:5px;"></span>
                    Add Source
                    <a class="section-toggle" data-toggle="collapse" href="#home-body"></a>
                </h4>
            </div>
            <!-- <div id="home-body" class="section-body collapse in">
                 <div class="panel panel-default">
                     <div class="panel-heading">Date/Time Settings</div>
                     <div class="panel-body">
                         <text class="label">Auto Detect Time Zone:</text>
                         <input type="checkbox" data-bind="checked: timeZoneDetectEnabled"/>
                         <text class="label">Use 24 Time:</text>
                         <input type="checkbox" data-bind="checked: use24Time"/>
                     </div>
                 </div>
             </div> -->
            <div class="section-heading">
                <h4 class="sub-header">
                    Servers
                </h4>
            </div>
            <!--Display the server address text box and the add server button-->
            <div class="input-group">
                <input id="add-server-text" type="text"
                       data-bind="value: serverAddress"
                       placeholder="Add new server URL"/>
                <button type="button" id="add-server-button"
                        class="btn btn-primary btn-sm"
                        data-bind="click: onAddServer">
                    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                    Add Server
                </button>
            </div>
            <!--Display the servers and their capabilities-->
            <div class="panel-group" role="tablist" aria-multiselectable="true" id="servers">
                <!-- ko template: { name: 'server-template', foreach: servers } -->
                <!-- /ko -->
            </div>
        </div>

        <!--
        Layers View (bound to LayersViewModel)
        -->
        <div id="layers" class="tab-pane" role="tabpanel">
            <div class="section-heading">
                <h4 class="sub-header">
                    <span class="glyphicon glyphicon-list" aria-hidden="true" style="padding-right:5px;"></span>
                    Layers
                    <a class="section-toggle" data-toggle="collapse" href="#layers-body">
                    </a>
                </h4>
            </div>
            <div id="layers-body" class="section-body collapse in">
                <!--TODO: This entire section could be driven by an observable array-->
                <div class="panel panel-default" data-bind="sortable: overlay1Layers">
                    <div class="panel-heading">
                        <h5 class="panel-title">
                        State Spatial Data
                            <a data-toggle="collapse" class="as" href="#overlay1-layers-panel" aria-expanded="false"
                               aria-controls="overlay1-layers-panel">
                                <small><span class="pull-right glyphicon glyphicon-minus" title="Collpase in/out Overlays"></span></small>
                            </a>
                        </h5>
                    </div>
                    <div class="panel-collapse collapse in" id="overlay1-layers-panel">
                        <div data-bind="template: { name: 'layer-template', foreach: overlay1Layers}"></div>
                    </div>
                </div>
				<div class="panel panel-default" data-bind="sortable: overlay1Layers">
                    <div class="panel-heading">
                        <h5 class="panel-title">
						User Spatial Data
                            <a data-toggle="collapse" class="as" href="#overlay1-layers-panel" aria-expanded="false"
                               aria-controls="overlay1-layers-panel">
                                <small><span class="pull-right glyphicon glyphicon-minus" title="Collpase in/out Overlays"></span></small>
                            </a>
                        </h5>
                    </div>
                    <div class="panel-collapse collapse in" id="overlay1-layers-panel">
                        <div data-bind="template: { name: 'layer-template', foreach: overlay1Layers}"></div>
                    </div>
                </div>
				<div class="panel panel-default" data-bind="sortable: overlayLayers">
                    <div class="panel-heading">
                        <h5 class="panel-title">
						Local Spatial Data
                            <a data-toggle="collapse" class="as" href="#overlay-layers-panel" aria-expanded="false"
                               aria-controls="overlay-layers-panel">
                                <small><span class="pull-right glyphicon glyphicon-minus" title="Collpase in/out Overlays"></span></small>
                            </a>
                        </h5>
                    </div>
                    <div class="panel-collapse collapse in" id="overlay-layers-panel">
                        <div data-bind="template: { name: 'layer-template', foreach: overlayLayers}"></div>
                    </div>
                </div>
				
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h5 class="panel-title">
						National Spatial Data
                            <a data-toggle="collapse" class="as" href="#base-layers-panel" aria-expanded="false"
                               aria-controls="base-layers-panel">
                                <small><span class="pull-right glyphicon glyphicon-minus" title="Collpase in/out Base Maps"></span></small>
                            </a>
                        </h5>
                    </div>
                    <div class="panel-collapse collapse in" id="base-layers-panel">
                        <div data-bind="template: { name: 'layer-template', foreach: baseLayers}"></div>
                    </div>
                </div>
                
                
			</div>
				<!--
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h5 class="panel-title">
                            <a data-toggle="collapse" href="#effect-layers-panel" aria-expanded="false"
                               aria-controls="effect-layers-panel">
                                Effects
                            </a>
                        </h5>
                    </div>
                    <div class="panel-collapse collapse" id="effect-layers-panel">
                        <div data-bind="template: { name: 'layer-template', foreach: effectsLayers}"></div>
                    </div>
                </div>
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h5 class="panel-title">
                            <a data-toggle="collapse" href="#widget-layers-panel" aria-expanded="false"
                               aria-controls="widget-layers-panel">
                                Widgets
                            </a>
                        </h5>
                    </div>
                    <div class="panel-collapse collapse" id="widget-layers-panel">
                        <div data-bind="template: { name: 'layer-template', foreach: widgetLayers}"></div>
                    </div>
                </div>
				-->
            
            <!--
                                    <div>
                                        <button type="button"
                                                class="btn btn-primary btn-sm"
                                                data-bind="click: onAddLayer">
                                            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                                            Add Layer
                                        </button>
                                    </div>
            -->
            <!--
             <div class="section-heading">
                <h4 class="sub-header">
                    Servers
                </h4>
            </div>
            -Display the server address text box and the add server button
            <div class="input-group">
                <input id="add-server-text" type="text"
                       data-bind="value: serverAddress"
                       placeholder="Add new server URL"/>
                <button type="button" id="add-server-button"
                        class="btn btn-primary btn-sm"
                        data-bind="click: onAddServer">
                    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                    Add Server
                </button>
            </div>
            Display the servers and their capabilities
            <div class="panel-group" role="tablist" aria-multiselectable="true" id="servers">
                 ko template: { name: 'server-template', foreach: servers }
                 /ko
            </div>

            <!--
            Add Layer Dialog
            -->
            <div style="display: none">
                <div id="add-layer-dialog">
                    Layer Type:
                    <select data-bind="options: optionValues, value: selectedOptionValue"></select>
                    <div>
                        Server Address:
                        <input style="display: block"/>
                    </div>
                </div>
            </div>
        </div>

        <!--
        Markers View (bound to MarkersViewModel)
		<div class="panel panel-default">
        <div class="panel-heading" role="tab"
             data-bind=" attr: {id: 'server-panel-' + $index}">
            <h5 class="panel-title">
                <span aria-expanded="true" data-bind="text:$data.title"></span>
				<a href="#">
                    <small><span class="pull-right glyphicon glyphicon-remove clickable_space"></span></small>
                </a>
        -->
        <div id="views" class="tab-pane" role="tabpanel">
            <div class="section-heading">
                <h4 class="sub-header">
                            <span class="glyphicon glyphicon-adjust" aria-hidden="true"
                                  style="padding-right:5px;"></span>
                    View and Controls
                    <a class="section-toggle" data-toggle="collapse" href="#views-body"></a>
                </h4>
				<div class="panel panel-default">
                    <div class="panel-heading">
                        <h5 class="panel-title">
                        Logos
                            <a class="as" data-toggle="collapse" href="#logo-layers-panel" aria-expanded="false"
                               aria-controls="logo-layers-panel">
                                <small><span class="pull-right glyphicon glyphicon-minus" title="Collpase in/out Effects"></span></small>
                            </a>
                        </h5>
                    </div>
                    <div class="panel-collapse collapse in" id="logo-layers-panel">
                        
                            <!--Layer name and visibility button-->
                            <button type="button" id="icon_Springfield" class="btn btn-default active" style="display: block; width: 100%;">
                                <span>
                                    <input class="pull-left" type="checkbox" id="btn_Springfield">
                                </span>
                                <span class="layer">SpringField OR</span>
                            </button>
                        <button type="button" id="icon_Nasa" class="btn btn-default active" style="display: block; width: 100%;">
                                <span>
                                    <input class="pull-left" type="checkbox" id="btn_Nasa">
                                </span>
                                <span class="layer">Ames Center NASA</span>
                            </button>
                        <button type="button" id="icon_Kite" class="btn btn-default active" style="display: block; width: 100%;">
                                <span>
                                    <input class="pull-left" type="checkbox" id="btn_Kite">
                                </span>
                                <span class="layer">KiTE Campus</span>
                            </button>
                    </div>
                </div>
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h5 class="panel-title">
						Effects
                            <a class="as" data-toggle="collapse" href="#effect-layers-panel" aria-expanded="false"
                               aria-controls="effect-layers-panel">
                                <small><span class="pull-right glyphicon glyphicon-minus" title="Collpase in/out Effects"></span></small>
                            </a>
                        </h5>
                    </div>
                    <div class="panel-collapse collapse in" id="effect-layers-panel">
                        <div data-bind="template: { name: 'layer-template', foreach: effectsLayers}"></div>
                    </div>
                </div>
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h5 class="panel-title">
						Widgets
                            <a data-toggle="collapse" class="as" href="#widget-layers-panel" aria-expanded="false"
                               aria-controls="widget-layers-panel">
                               <small><span class="pull-right glyphicon glyphicon-minus" title="Collpase in/out Widgets"></span></small> 
                            </a>
                        </h5>
                    </div>
                    <div class="panel-collapse collapse in" id="widget-layers-panel">
                        <div data-bind="template: { name: 'layer-template', foreach: widgetLayers}"></div>
                    </div>
                </div>
            </div>
        </div>



		<div id="markers" class="tab-pane" role="tabpanel">
        <div class="markersplit1 section-heading">
                <h4 class="sub-header">
                            <span class="glyphicon glyphicon-map-marker" aria-hidden="true"
                                  style="padding-right:5px;"></span>
                    Markers Controls
                    <a class="section-toggle" data-toggle="collapse" href="#markers-body"></a>
                </h4>
            </div>
            <div id="markers-body" class="section-body collapse in">
                <!-- Bind the list to the 'markers' observableArray -->
                <div data-bind="template: { name: 'marker-template', foreach: markers}"></div>
            </div>
        
             <div class="gutter gutter-vertical" style="width: 10px;"></div>
            <br>
            <div class="markersplit2 panel panel-default">
                <br><div class="panel-heading">
                    <h5 class="panel-title">
                    Markers
                        <a data-toggle="collapse" class="as" href="#data-layers-panel" aria-expanded="false"
                           aria-controls="data-layers-panel">
                            <small><span class="pull-right glyphicon glyphicon-minus" title="Collpase in/out Datasets"></span></small> 
                        </a>
                    </h5>
                </div>
                <div class="panel-collapse collapse in" id="data-layers-panel">
                    <div data-bind="template: { name: 'layer-template', foreach: dataLayers}"></div>
                </div>
            </div>
        </div>
    </div>

    <!--
    Explorer
    -->
    <div id="explorer" class="split split-horizontal">
        <!--
        Globe View (bound to the GlobeViewModel)
        -->
        <div id="globe" class="split split-vertical" style="height: 100%;">
            <!--Set canvas' tabindex so keydown events can be captured by the KeyboardController -->
            <canvas id="canvasOne" tabindex='1'
                    data-bind="style: { cursor: dropIsArmed() ? 'crosshair' : 'default' }">
                Try Chrome or FireFox.
            </canvas>
            <!--
            Globe Buttons
            -->
            <div class="non-interactive" style="position: absolute; top: 0; right: 0;">
                <div id="globe-buttons" class="interactive"
                     style='float: right; margin-top: 30px; max-width: 100px'>
                            <span class="btn-group" style="float: left">
                                <!-- Add Marker button and palette -->
                                <button type="button"
                                        class="btn btn-primary btn-sm globe-button"
                                        style="padding-top: 0; padding-bottom: 0; padding-right: 0"
                                        data-bind="click: armDropMarker">
                                    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                                    <img width="28px" height="28px;"
                                         data-bind="attr:{src: selectedMarkerTemplate().imageSource}"/>
                                </button>
                                <!-- Marker palette dropdown button-->
                                <button type="button"
                                        class="btn btn-primary btn-sm globe-button dropdown-toggle"
                                        data-toggle="dropdown"
                                        aria-haspopup="true">
                                    <span class="caret"></span>
                                    <span class="sr-only">Markers Dropdown</span>
                                </button>
                                <!-- Dropdown list bound the 'markerPalette' observableArray -->
                                <ul id="marker-palette"
                                    class="dropdown-menu"
                                    style="left: initial; right: 0; min-width: 30px"
                                    data-bind="foreach: markerPalette">
                                    <li data-bind="click: $parent.selectedMarkerTemplate">
                                        <a><img width="28px" height="28px;"
                                                data-bind="attr:{src: $data.imageSource}"/></a>
                                    </li>
                                </ul>
                            </span>
                </div>
            </div>
            <!--
            Time Controls
            -->
            <div class="col-xs-12 non-interactive">
                <div class="row">
                    <!--Create a shallow div along the bottom edge of the globe-->
                    <div class="interactive" style="position: absolute; bottom: 0; width: 100%">

                        <!--Date/Time Buttons-->
                        <div id="timeControlButtons"
                             style="width: 166px; margin-right: auto; margin-left: auto">
                            <div class="btn-group btn-group-sm interactive" role="group"
                                 style="float:bottom"
                                 aria-label="time controls">
                                <button id="time-fast-backward" type="button"
                                        class="btn btn-default repeatButton">
                                            <span class="glyphicon glyphicon-fast-backward"
                                                  aria-hidden="true"></span>
                                </button>
                                <button id="time-step-backward" type="button"
                                        class="btn btn-default repeatButton">
                                            <span class="glyphicon glyphicon-step-backward"
                                                  aria-hidden="true"></span>
                                </button>
                                <button id="time-reset" type="button" class="btn btn-default"
                                        data-bind="click: onTimeReset, css:{active: autoUpdateTime}">
                                    <span class="glyphicon glyphicon-time" aria-hidden="true"></span>
                                </button>
                                <button id="time-step-forward" type="button"
                                        class="btn btn-default repeatButton">
                                            <span class="glyphicon glyphicon-step-forward"
                                                  aria-hidden="true"></span>
                                </button>
                                <button id="time-fast-forward" type="button"
                                        class="btn btn-default repeatButton">
                                            <span class="glyphicon glyphicon-fast-forward"
                                                  aria-hidden="true"></span>
                                </button>
                            </div>
                        </div>
                        <!--Date/Time Slider-->
                        <div id="timeControlSlider"
                             style="width: 166px; margin-right: auto; margin-left: auto"></div>
                    </div>
                </div>
            </div>
        </div>
        <!--
        Output View (bound to the OutputViewModel)

        <div id="output" class="split split-vertical">
            <!--Button to collapse output panel
            <button type="button" id="collapse-output-panel"
                    class="btn btn-primary btn-sm"
                    style="float: right">
                <span class="glyphicon glyphicon-minus" aria-hidden="true"></span>
            </button>
            <!--Output panel
            <div style="height: 100%; overflow-y: hidden;" data-bind="template: {
                    if: viewTemplateName()!==null,
                    name: viewTemplateName,
                    data: selectedItem
                    }">
            </div>
        </div> -->
    </div>
</div>

<!--
Layer Settings Dialog
-->
<div style="display: none">
    <div id="layer-settings-dialog">
        Opacity
        <div id="opacity-slider" auto-focus></div>
    </div>
</div>

<!--
Marker Editor Dialog
-->
<div style="display: none">
    <div id="marker-editor">
        <label for="name">Name</label>
        <input type="text" name="name" id="name" class="text ui-widget-content ui-corner-all"
               data-bind="value: marker().name">
    </div>
</div>


<!--
Layer Template
This script renders the individual layer view model items in the Layers panel.
-->
<script type="text/html" id="layer-template">
    <div class="btn-group btn-block">
        <!--Layer name and visibility button-->
        <button type="button"
                class="btn btn-default layer-name wrap-panel-heading"
                style="display: block; width: 80%;"
                data-bind="click: $root.onToggleLayer, css: {active: $data.enabled()}">
                <span>
                    <input class="pull-left" type="checkbox" data-bind="'checked': $data.enabled()">
                </span>
            <span class="layer" data-bind="text: $data.name()"></span>
        </button>
        <!--Display legend button-->
        <button type="button"
                class="toggle btn btn-default collapse"
                style="display: block; width: 20%;"
                data-toggle="collapse"
                data-bind="css: {active: $data.enabled(), in: $data.enabled()},
                        attr: {'data-target': '#collapse-layer-' + $data.id(),
                        'aria-controls': 'collapse-layer-' + $data.id(),
                        'aria-expanded': $data.enabled() ? 'true' : 'false'},enable: $data.enabled()">
            <span class="glyphicon glyphicon-plus"></span>
        </button>
        <!--Settings button
        <button type="button"
                class="btn btn-default"
                style="display: block; width: 15%;"
                data-bind="css: {active: $data.enabled()}, click: $root.onEditSettings">
            <span class="glyphicon glyphicon-cog"></span>
        </button> -->
    </div>
    <div class="collapse" data-bind="attr: {id: 'collapse-layer-' + $data.id()}">
        <div class="well">
            <!--Controls and Legend-->
            <div>
                <img data-bind="attr: {src: legendUrl}"/>
            </div>
			<div>
				Opacity :
				&nbsp;
				<input class="layer" data-bind="attr: {id: ''+$data.name(), min: 0, max: 1, step: 0.2, value: 0.8},css: {active: $data.enabled()}, value: $data.value, event:{change: $root.chag}, text: $data.name()" type="range">
				<!-- <input type="range" data-bind="event:{change: $root.funcA}"> -->
			</div>
        </div>
    </div>

</script>

<!--
Marker Item Template
This script renders the individual marker view model items in the Markers panel.
-->
<script type="text/html" id="marker-template">
    <div class="btn-group btn-block">
        <button type="button" class="btn btn-default"
                style="display: block; width: 70%"
                data-bind="click: $root.gotoMarker">
                    <span class="pull-left"><img width="16px" height="16px"
                                                 data-bind="attr:{src: $data.placemark.attributes.imageSource}"/>  </span>
            <span data-bind="text: $data.name"></span>
        </button>
        <!-- Edit Button -->
        <button type="button" class="btn btn-default glyphicon glyphicon-pencil"
                data-bind="click: $parent.editMarker"></button>
        <!-- Delete Button -->
        <button type="button" class="btn btn-default glyphicon glyphicon-trash"
                data-bind="click: $parent.removeMarker"></button>
    </div>
</script>

<!--
Marker View Template
This script renders the selected marker object the output panel.
-->
<script type="text/html" id="basic-marker-view-template">
    <!-- ko if: $data -->
    <div id="basic-marker-output" class="panel panel-default" style="height: 100%;">
        <div class="panel-heading">
            <h1 class="panel-title">
                        <span class="glyphicon glyphicon-map-marker" aria-hidden="true"
                              style="padding-top:4px; padding-bottom:4px"></span>
                <span data-bind="text: $data.name()"></span>
            </h1>
        </div>
        <div class="panel-body" style="height: calc(100% - 45px); overflow-y: scroll;">
            <h3>Name: <span data-bind="text: $data.name()"></span></h3>
            <h4>Location: <span data-bind="text: $data.location()"></span></h4>
            <h4>Nearby Place: <span data-bind="text: $data.toponym()"></span></h4>
        </div>
    </div>
    <!-- /ko -->
</script>

<!--
Server Template
This server-template script renders a server's tab content

<div class="panel panel-default">
                    <div class="panel-heading">
                        <h5 class="panel-title">
						Effects
						Effects
                            <a class="as" data-toggle="collapse" href="#effect-layers-panel" aria-expanded="false"
                               aria-controls="effect-layers-panel">
                                <small><span class="pull-right glyphicon glyphicon-minus" title="Collpase in/out Effects"></span></small>
                            </a>
                        </h5>
                    </div>
                    <div class="panel-collapse collapse in" id="effect-layers-panel">
                        <div data-bind="template: { name: 'layer-template', foreach: effectsLayers}"></div>
                    </div>
                </div>
				
				data-bind="attr: {'aria-controls': 'server-layers-' + $data.id, href:'#server-layers-' + $data.id}"
-->
<script type="text/html" id="server-template">
    <!-- ko if: layers().length -->
    <div class="panel panel-default">
        <div class="panel-heading" role="tab"
             data-bind=" attr: {id: 'server-panel-' + $index}">
            <h5 class="panel-title">
                <span aria-expanded="true" data-bind="text:$data.title"></span>		
                <a href="#" data-toggle="collapse" aria-expanded="true"
                   data-bind="attr: {'aria-controls': 'server-layers-' + $data.id, href:'#server-layers-' + $data.id}">
                    <small><span class="toggle-icon pull-right glyphicon glyphicon-plus" title="Collpase in/out Servers"></span></small>
                </a>
                
            </h5>
        </div>
        <div class="panel-collapse collapse" role="tabpanel"
             data-bind="attr: {id:'server-layers-' + $data.id, 'aria-labelledby': 'server-panel-' + $index()}">
		<a href="#">
                    <small><span class="pull-right glyphicon glyphicon-remove clickable_space" title="Remove Server"></span></small>
                </a>
            <!-- ko template: { name: 'server-layer-template', foreach: layers } -->
            <!-- /ko -->
        </div>
    </div>
    <!-- /ko -->
</script>
<div style="display: none">
    <div id="feature">
         
    </div>
</div>

<script>
// $("#canvasOne").click(function() {
//   opendialog("http://localhost:8080/geoserver/topp/wms?SERVICE=WMS&VERSION=1.1.1&REQUEST=GetFeatureInfo&FORMAT=image%2Fpng&TRANSPARENT=true&QUERY_LAYERS=topp%3Astates&STYLES&LAYERS=topp%3Astates&INFO_FORMAT=text%2Fhtml&FEATURE_COUNT=50&X=50&Y=50&SRS=EPSG%3A4326&WIDTH=101&HEIGHT=101&BBOX=-104.1943359375%2C33.5302734375%2C-95.3173828125%2C42.4072265625");
// });
// var url="http://localhost:8080/geoserver/topp/wms?SERVICE=WMS&VERSION=1.1.1&REQUEST=GetFeatureInfo&FORMAT=image%2Fpng&TRANSPARENT=true&QUERY_LAYERS=topp%3Astates&STYLES&LAYERS=topp%3Astates&INFO_FORMAT=text%2Fhtml&FEATURE_COUNT=50&X=50&Y=50&SRS=EPSG%3A4326&WIDTH=101&HEIGHT=101&BBOX=-104.1943359375%2C33.5302734375%2C-95.3173828125%2C42.4072265625";
// function opendialog(url) {
//   var $dialog = $('#canvasOne')
//   .html('<iframe style="border: 0px; " src="http://localhost:8080/geoserver/topp/wms?SERVICE=WMS&VERSION=1.1.1&REQUEST=GetFeatureInfo&FORMAT=image%2Fpng&TRANSPARENT=true&QUERY_LAYERS=topp%3Astates&STYLES&LAYERS=topp%3Astates&INFO_FORMAT=text%2Fhtml&FEATURE_COUNT=50&X=50&Y=50&SRS=EPSG%3A4326&WIDTH=101&HEIGHT=101&BBOX=-104.1943359375%2C33.5302734375%2C-95.3173828125%2C42.4072265625" width="100%" height="100%"></iframe>')
//   .dialog({
//     title: "Page",
//     autoOpen: false,
//     dialogClass: 'dialog_fixed,ui-widget-header',
//     modal: true,
//     height: 500,
//     minWidth: 400,
//     minHeight: 400,
//     draggable:true,
//     /*close: function () { $(this).remove(); },*/
//     buttons: { "Ok": function () {         $(this).dialog("close"); } }
//   });
//   $dialog.dialog('open');
// } 


// $("#canvasOne").click(function () {
//     var $featuredialog =  $("#feature").html('<iframe style="border: 0px; " src="http://localhost:8080/geoserver/topp/wms?SERVICE=WMS&VERSION=1.1.1&REQUEST=GetFeatureInfo&FORMAT=image%2Fpng&TRANSPARENT=true&QUERY_LAYERS=topp%3Astates&STYLES&LAYERS=topp%3Astates&INFO_FORMAT=text%2Fhtml&FEATURE_COUNT=50&X=50&Y=50&SRS=EPSG%3A4326&WIDTH=101&HEIGHT=101&BBOX=-104.1943359375%2C33.5302734375%2C-95.3173828125%2C42.4072265625" width="100%" height="100%"></iframe>').dialog({ 
//               autoOpen: false,
//               title: "GetFeatureInfo"
//             });
//         $featuredialog.dialog("open");
 

// });



 





// document.getElementById('canvasOne').addEventListener('click', function(evt) {
//     console.logo("111");

//     function(tile, imageFormat) {
//         if (!tile) {
//             throw new ArgumentError(
//                 Logger.logMessage(Logger.LEVEL_SEVERE, "WmsUrlBuilder", "urlForTile", "missingTile"));
//         }

//         if (!imageFormat) {
//             throw new ArgumentError(
//                 Logger.logMessage(Logger.LEVEL_SEVERE, "WmsUrlBuilder", "urlForTile",
//                     "The image format is null or undefined."));
//         }

//         var sector = tile.sector;

//         var sb = WmsUrlBuilder.fixGetMapString(this.serviceAddress);

//         if (sb.search(/service=wms/i) < 0) {
//             sb = sb + "service=WMS";
//         }

//         sb = sb + "&request=GetFeatureInfo";
//         sb = sb + "&version=" + this.wmsVersion;
//         sb = sb + "&transparent=" + (this.transparent ? "TRUE" : "FALSE");
//         sb = sb + "&layers=" + this.layerNames;
//         sb = sb + "&styles=" + this.styleNames;
//         sb = sb + "&format=" + imageFormat;
//         //sb = sb + "&width=" + tile.tileWidth;
//         //sb = sb + "&height=" + tile.tileHeight;

//         // if (this.timeString) {
//         //     sb = sb + "&time=" + this.timeString;
//         // }
//         console.log("112");

//         size = this._map.getSize();
//         var point = layer._map.latLngToContainerPoint(event.latlng, layer._map.getZoom());
//         var temp = this.wmsParams.layers;
//         var temp1 = temp.split(":");

//         sb = sb + "&QUERY_LAYERS=" + temp1[1];
//         sb = sb + "&info_format=text%2html";
//         sb = sb + "&feature_count=50";
//         sb = sb + "&x=50";
//         sb = sb + "&y=50";
//         sb = sb + "&srs=" + this.srs;
//         sb = sb + "&width=101";
//         sb = sb + "&height=101";
//         sb = sb + "&bbox=" + this._map.getBounds().toBBoxString();



//         // if (this.isWms130OrGreater) {
//         //     sb = sb + "&crs=" + this.crs;
//         //     sb = sb + "&bbox=";
//         //     if (this.crs === "CRS:84") {
//         //         sb = sb + sector.minLongitude + "," + sector.minLatitude + ",";
//         //         sb = sb + sector.maxLongitude+ "," + sector.maxLatitude;
//         //     } else {
//         //         sb = sb + sector.minLatitude + "," + sector.minLongitude + ",";
//         //         sb = sb + sector.maxLatitude+ "," + sector.maxLongitude;
//         //     }
//         // } else {
//         //     sb = sb + "&srs=" + this.crs;
//         //     sb = sb + "&bbox=";
//         //     sb = sb + sector.minLongitude + "," + sector.minLatitude + ",";
//         //     sb = sb + sector.maxLongitude+ "," + sector.maxLatitude;
//         // }

//         sb = sb.replace(" ", "%20");
//         $(function() {
//             $("<p>Mohan</p>").dialog();
//         });
//         return sb;
//     };
//     console.log("113");
// }, false);


// document.addEventListener("DOMContentLoaded", init, false);

// function init() {
//     var canvas = document.getElementById("canvasOne");
//     canvas.addEventListener("mousedown", getPosition, false);
// }

// function getPosition(event) {
//     var x = new Number();
//     var y = new Number();
//     var canvas = document.getElementById("canvasOne");

//     if (event.x != undefined && event.y != undefined) {
//         x = event.x;
//         y = event.y;
//     } else // Firefox method to get the position
//     {
//         x = event.clientX + document.body.scrollLeft +
//             document.documentElement.scrollLeft;
//         y = event.clientY + document.body.scrollTop +
//             document.documentElement.scrollTop;
//     }

//     x -= canvas.offsetLeft;
//     y -= canvas.offsetTop;

//     alert("x: " + x + "  y: " + y);
// }



    $(document).on('click','.glyphicon-remove', function(){

        $(this).parents('.panel').get(0).remove();
    });
	$(document).ready(function()
	{  
        $("#btn_Springfield").prop("checked", true);
        $("#btn_Nasa").prop("checked", true);
        $("#btn_Kite").prop("checked", true);

        Split(['.markersplit1', '.markersplit2'], {
            direction: 'vertical',
            resizeToHeight: 'true'

        });  
        // $('#MySplitter').jqxSplitter
        // ({orientation: 'vertical', width: 400, 
        // height: 400, panels: [{ size: 200 }, { size: 200}] });
        //$('#markers').splitter({type: 'h'});
        // .splitter({ width: 850, height: 400, orientation: 'horizontal', panels: [{ size: 100 }, { size: 300 }] });

		$('.as').click(function()
		{
			$(this).find('span').toggleClass('glyphicon-minus').toggleClass('glyphicon-plus');
		}
		);
	}
	);
	$(document).on('click','.toggle-icon', function(){
        $(this).toggleClass('glyphicon-plus glyphicon-minus');
    });
	$(document).on('click','.toggle', function(){
        $(this).find('span').toggleClass('glyphicon-plus glyphicon-minus');
    });
	$('#tog').click(function(){
            $(this).find('i').toggleClass('glyphicon-eye-open glyphicon-eye-close');
            if($(this).find('i').hasClass('glyphicon-eye-open')){
                $("#logo1,#logo2,#logo3").show();
            }else{
                $("#logo1,#logo2,#logo3").hide();
            }

        });

    $('#icon_Springfield').click(function(){
       $("#logo1").toggle();
       if($("#btn_Springfield").is(":checked"))  
            $("#btn_Springfield").prop("checked", false);  
        else
            $("#btn_Springfield").prop("checked", true);
    });
    $('#icon_Nasa').click(function(){
       $("#logo3").toggle();
       if($("#btn_Nasa").is(":checked"))  
            $("#btn_Nasa").prop("checked", false);  
        else
            $("#btn_Nasa").prop("checked", true);
    });
    $('#icon_Kite').click(function(){
       $("#logo2").toggle();
       if($("#btn_Kite").is(":checked"))  
            $("#btn_Kite").prop("checked", false);  
        else
            $("#btn_Kite").prop("checked", true);
    });

</script>
<!--
Server Layer Template
This server-layer-template script recursively renders a server's layer list items
-->
<script type="text/html" id="server-layer-template">
    <li>
        <input type="checkbox" class ="ckeb" data-bind="click: $root.onServerLayerClicked, checked: isChecked, visible: isLayer"/>
        <span data-bind="text: title"></span>
        <!-- ko if: layers().length -->
        <ul>
            <!-- ko template: { name: 'server-layer-template', foreach: layers } -->
            <!-- /ko -->
        </ul>
        <!-- /ko -->
    </li>
</script>
<!--
Hello World Template
This test template renders 'Hello World'
-->
<script type="text/html" id="hello-world-template">
    <p>Hello World!</p>
</script>

<!--
Window Splitter (placed here vs in main.js so that its layout is visible ASAP)
-->
<script src="js/libs/split/split.js" type="text/javascript"></script>
<script src="js/libs/jquery/jquery-2.1.3.js" type="text/javascript"></script>
<script type="text/javascript">
    // -----------------------------------------------------------
    // Add the window splitters
    // -----------------------------------------------------------
    var sidebarSplitter = Split(['#left-sidebar', '#explorer'], {
        direction: 'horizontal',
        minSize: [160, 240],// pixels
        sizes: [29.72, 70.28],    // percentages
        gutterSize: 10,
        collapsed: true
    });

     // var outputSplitter = Split(['#markersplit1', '#markersplit2'], {
     // direction: 'vertical',
     // minSize: [100, 100],
     // sizes: [70, 30],
     // gutterSize: 10
     // });        
    // Add a handler to collapse the left side panel
    $('#collapse-left-sidebar').on('click', sidebarSplitter, function (event) {
        // Collapse the sidebar (1st item in splitter array
        var splitter = event.data;
        splitter.lastSizes = splitter.getSizes();
        splitter.collapse(0);
    });
    // Add a handler to collapse the output panel
    // $('#collapse-output-panel').on('click', outputSplitter, function (event) {
    //  // Collapse the output panel (2nd item in splitter array)
    //  var splitter = event.data;
    //  splitter.collapse(1);
    //  });
    // Add a handler to restore the left side panel
    $('.left-sidebar-btn').on('click', sidebarSplitter, function (event) {
        var splitter = event.data;
        if ($('#left-sidebar').width() < 100) {
            if (splitter.lastSizes === undefined) {
                splitter.setSizes([25, 75]);    // percentages
            } else {
                splitter.setSizes(splitter.lastSizes);
            }
        }
    });

</script>

<!--Prototyping the jquery fancytree plugin-->
<!--<script src="//cdn.jsdelivr.net/jquery.fancytree/2.9.0/jquery.fancytree-all.min.js" type="text/javascript"></script>-->

<!--
Application Entry Point: RequireJS AMD configuration file
main.js
-->
<script data-main="js/main" src="js/libs/require/require-debug.js"></script>

</body>
</html>
<style>
    .panel-default {
        opacity: .7 !important;
    }
    .blink {
        color: #000000 !important;
        background: #FFFFFF;
    !important;
    }
</style>
